# # #   after preprocessing    # # #

# minimum length = 1
# total length: 132.47 hours
# percentage of
# - repetitions:                   0.10 %
# - filled pauses:                 0.11 %
# - repetitions and filled pauses: 0.01 %
# - hesitations (R or FP):         0.20 %

# minimum length = 5
# total length: 126.44 hours
# percentage of
# - repetitions:                   0.10 %
# - filled pauses:                 0.11 %
# - repetitions and filled pauses: 0.01 %
# - hesitations (R or FP):         0.20 %


# # #   after transcription    # # #

#                │       correct     incorrect   untranscribed
#                │   transcribed   transcribed
#   ─────────────┼────────────────────────────────────────────
#   fluent       │       895,474        45,823          31,931
#   not fluent   │       136,718        15,242          89,799

# WER = 0.2097 for minimum length 1 
# - insert:      91,127
# - delete:     121,730
# - replace:     61,065
# - nothing:  1,032,192
# - all:      1,306,114

# WER = 0.2 for minimum length 5 
# - insert:      80,837
# - delete:     121,071
# - replace:     54,083
# - nothing:  1,023,776
# - all:      1,279,767


############ Zhaolin Start ############
# [[[134614, 4372], [5216, 597], [1777, 2443]], [[17620, 3844], [1160, 834], [3502, 13158]]]
# not labelled
#                │   correct transcribed   incorrect transcribed   untranscribed
#   ─────────────┼──────────────────────────────────────────────────────────────
#   fluent       │                134614                    5216            1777
#   not fluent   │                 17620                    1160            3502

# labelled
#                │   correct transcribed   incorrect transcribed   untranscribed
#   ─────────────┼──────────────────────────────────────────────────────────────
#   fluent       │                  4372                     597            2443
#   not fluent   │                  3844                     834           13158

# sum
#                │   correct transcribed   incorrect transcribed   untranscribed
#   ─────────────┼──────────────────────────────────────────────────────────────
#   fluent       │               138,986                   5,813           4,220
#   not fluent   │                21,464                   1,994          16,660

############ Zhaolin End ############


# # #     after alignment      # # #

# CTC default probability comparison around untranscribed speech
# c = -0.01: 0.5628
# c = -0.1: 0.5627
# c = -0.5: 0.5627
# c = -1: 0.5625
# c = -2: 0.5600
# c = -3: 0.5550
# c = -4: 0.5484
# c = -5: 0.5407

# CTC default probability comparison
# c = -0.01: 0.5893
# c = -0.1: 0.5896
# c = -0.5: 0.5906
# c = -1: 0.5917
# c = -2: 0.5932
# c = -3: 0.5937
# c = -4: 0.5937
# c = -5: 0.5932

# [(([129351, 101536, 88219, 76780, 67171, 57473, 47491, 39791, 33496, 28412], 1093249), ([101573, 99453, 95477, 89369, 83078, 77029, 71016, 65078, 59216, 53885], 121738), ([77480, 76198, 73032, 67766, 62301, 57064, 51866, 46769, 41711, 37188], 89799)), 
#  (([128322, 100761, 87567, 76177, 66614, 56956, 47025, 39400, 33184, 28119], 1093249), ([101211, 99091, 95140, 89061, 82768, 76716, 70729, 64836, 59017, 53689], 121738), ([77220, 75937, 72784, 67553, 62078, 56818, 51647, 46584, 41560, 37036], 89799)), 
#  (([124779, 98308, 85608, 74501, 65150, 55686, 45925, 38391, 32286, 27443],  1093249), ([100211, 98124, 94227, 88152, 81973, 75923, 70026, 64133, 58384, 53149], 121738), ([76535, 75268, 72128, 66928, 61538, 56274, 51182, 46098, 41118, 36666], 89799)), 
#  (([121096, 95884, 83503, 72694, 63665, 54356, 44810, 37469, 31512, 26753],  1093249), ([99107, 97063, 93204, 87184, 81049, 75085, 69308, 63567, 57840, 52657],  121738), ([75758, 74492, 71366, 66212, 60845, 55650, 50666, 45695, 40737, 36331], 89799)), 
#  (([114868, 91599, 79764, 69439, 60825, 51799, 42558, 35452, 29727, 25280],  1093249), ([96063, 94066, 90275, 84537, 78610, 72829, 67276, 61773, 56283, 51266],  121738), ([73432, 72163, 69092, 64175, 58951, 53895, 49095, 44339, 39598, 35342], 89799)), 
#  (([109667, 87786, 76413, 66504, 58177, 49524, 40552, 33672, 28188, 23883],  1093249), ([91933, 89974, 86329, 80897, 75259, 69797, 64523, 59225, 54006, 49154],  121738), ([70172, 68891, 65942, 61274, 56298, 51507, 46938, 42389, 37914, 33783], 89799)), 
#  (([105591, 84767, 73547, 64038, 55943, 47550, 38763, 32155, 26903, 22728],  1093249), ([87152, 85187, 81686, 76566, 71250, 66093, 61097, 56177, 51234, 46600],  121738), ([66347, 65041, 62202, 57823, 53135, 48645, 44327, 40114, 35854, 31900], 89799)), 
#  (([102379, 82311, 71194, 61874, 54047, 45809, 37194, 30756, 25597, 21548],  1093249), ([81942, 79945, 76574, 71772, 66787, 61911, 57220, 52608, 47876, 43543],  121738), ([62256, 60886, 58171, 54053, 49673, 45435, 41363, 37426, 33365, 29673], 89799))]

############ Zhaolin Start ############

# untranscribed words 
# total: 121738
# reachable:
# c = -0.01 [101573, 99453, 95477, 89369, 83078, 77029, 71016, 65078, 59216, 53885]
# c = -0.1 [101211, 99091, 95140, 89061, 82768, 76716, 70729, 64836, 59017, 53689]
# c = -0.5 [100211, 98124, 94227, 88152, 81973, 75923, 70026, 64133, 58384, 53149]
# c = -1 [99107, 97063, 93204, 87184, 81049, 75085, 69308, 63567, 57840, 52657]
# c = -2 [96063, 94066, 90275, 84537, 78610, 72829, 67276, 61773, 56283, 51266]
# c = -3 [91933, 89974, 86329, 80897, 75259, 69797, 64523, 59225, 54006, 49154]
# c = -4 [87152, 85187, 81686, 76566, 71250, 66093, 61097, 56177, 51234, 46600]
# c = -5 [81942, 79945, 76574, 71772, 66787, 61911, 57220, 52608, 47876, 43543]

# already transcribed words reachable:
# c = -0.01 [129351, 101536, 88219, 76780, 67171, 57473, 47491, 39791, 33496, 28412]
# c = -0.1 [128322, 100761, 87567, 76177, 66614, 56956, 47025, 39400, 33184, 28119]
# c = -0.5 [124779, 98308, 85608, 74501, 65150, 55686, 45925, 38391, 32286, 27443]
# c = -1 [121096, 95884, 83503, 72694, 63665, 54356, 44810, 37469, 31512, 26753]
# c = -2 [114868, 91599, 79764, 69439, 60825, 51799, 42558, 35452, 29727, 25280]
# c = -3 [109667, 87786, 76413, 66504, 58177, 49524, 40552, 33672, 28188, 23883]
# c = -4 [105591, 84767, 73547, 64038, 55943, 47550, 38763, 32155, 26903, 22728]
# c = -5 [102379, 82311, 71194, 61874, 54047, 45809, 37194, 30756, 25597, 21548]

# untranscribed disfluencies 
# total: 89799
# reachable:
# c = -0.01 [77480, 76198, 73032, 67766, 62301, 57064, 51866, 46769, 41711, 37188]
# c = -0.1 [77220, 75937, 72784, 67553, 62078, 56818, 51647, 46584, 41560, 37036]
# c = -0.5 [76535, 75268, 72128, 66928, 61538, 56274, 51182, 46098, 41118, 36666]
# c = -1 [75758, 74492, 71366, 66212, 60845, 55650, 50666, 45695, 40737, 36331]
# c = -2 [73432, 72163, 69092, 64175, 58951, 53895, 49095, 44339, 39598, 35342]
# c = -3 [70172, 68891, 65942, 61274, 56298, 51507, 46938, 42389, 37914, 33783]
# c = -4 [66347, 65041, 62202, 57823, 53135, 48645, 44327, 40114, 35854, 31900]
# c = -5 [62256, 60886, 58171, 54053, 49673, 45435, 41363, 37426, 33365, 29673]

############ Zhaolin End ############


# percentage of
# transcribed speech reachable               gaps containing transcribed speech       untranscribed speech reachable           gaps containing untranscribed speech     untranscribed hesitations reachable     gaps containing untranscribed hesitaions
# for cross attention
#   len   │    part      50   total          len   │    part      50   total          len   │    part      50   total          len   │    part      50   total          len   │    part      50   total          len   │    part      50   total
#   ──────┼────────────────────────          ──────┼────────────────────────          ──────┼────────────────────────          ──────┼────────────────────────          ──────┼────────────────────────          ──────┼────────────────────────
#   0.1   │    9.37    1.90    0.53          0.1   │   79.64   16.78    3.56          0.1   │   16.30   12.48    9.18          0.1   │   12.55    9.23    6.07          0.1   │   13.91   10.06    6.66          0.1   │    9.08    6.56    4.11
#   0.2   │    7.12    1.70    0.51          0.2   │   79.62   18.50    4.32          0.2   │   14.72   11.88    9.05          0.2   │   13.76   10.76    7.43          0.2   │   12.26    9.43    6.52          0.2   │    9.88    7.61    5.01
#   0.3   │    6.10    1.51    0.50          0.3   │   80.85   19.04    4.93          0.3   │   13.58   11.24    8.87          0.3   │   14.58   11.68    8.45          0.3   │   11.06    8.78    6.33          0.3   │   10.38    8.22    5.67
#   0.4   │    5.39    1.35    0.49          0.4   │   82.45   19.33    5.47          0.4   │   12.68   10.66    8.65          0.4   │   15.37   12.49    9.35          0.4   │   10.17    8.20    6.12          0.4   │   10.88    8.75    6.27
#   0.5   │    4.87    1.24    0.48          0.5   │   85.98   20.10    6.08          0.5   │   12.03   10.23    8.46          0.5   │   16.53   13.57   10.42          0.5   │    9.51    7.76    5.94          0.5   │   11.62    9.44    6.95
#   0.6   │    3.63    1.13    0.47          0.6   │   85.03   24.52    7.89          0.6   │   11.23    9.76    8.27          0.6   │   20.22   17.03   13.53          0.6   │    8.72    7.28    5.76          0.6   │   14.14   11.75    8.99
#   0.7   │    2.59    1.01    0.45          0.7   │   82.94   29.94   10.65          0.7   │   10.54    9.33    8.09          0.7   │   25.93   22.35   18.34          0.7   │    8.02    6.82    5.57          0.7   │   18.02   15.28   12.11
#   0.8   │    2.00    0.83    0.44          0.8   │   81.50   30.77   13.37          0.8   │    9.78    8.77    7.77          0.8   │   30.25   26.46   22.40          0.8   │    7.25    6.26    5.26          0.8   │   20.79   17.90   14.68
#   0.9   │    1.64    0.68    0.42          0.9   │   80.60   29.78   15.41          0.9   │    8.93    8.13    7.32          0.9   │   32.78   29.12   25.15          0.9   │    6.35    5.58    4.78          0.9   │   21.94   19.20   16.08
# data 50 speech
# containing = [27.094136511538498, 29.765903438373375, 29.442757235805495, 28.91093259610918, 30.00644657822414, 36.156050210509896, 38.37700430191631, 38.30554664956717, 38.00422980655426, 37.69969537009046]
# reachable = [8.436870282982193, 6.872633773275805, 5.870940654873684, 5.064262578790376, 4.388112863583685, 3.6938519952911, 2.9527582462915585, 2.4081430671329223, 1.9837200857261248, 1.6485722831669638]

# for ctc
#   len   │    part      50   total          len   │    part      50   total          len   │    part      50   total          len   │    part      50   total          len   │    part      50   total          len   │    part      50   total
#   ──────┼────────────────────────          ──────┼────────────────────────          ──────┼────────────────────────          ──────┼────────────────────────          ──────┼────────────────────────          ──────┼────────────────────────
#   0.1   │   37.66    8.44    1.98          0.1   │   88.25   27.09    6.21          0.1   │   67.01   47.54   36.47          0.1   │   19.27   13.46   10.27          0.1   │   71.99   51.52   39.83          0.1   │   16.08   11.42    8.81
#   0.2   │   28.16    6.87    1.90          0.2   │   88.50   29.77    8.10          0.2   │   62.01   46.10   36.30          0.2   │   23.90   17.66   13.95          0.2   │   66.85   50.17   39.68          0.2   │   20.11   15.09   11.98
#   0.3   │   24.11    5.87    1.71          0.3   │   88.85   29.44    8.46          0.3   │   57.17   43.64   35.43          0.3   │   25.20   19.19   15.74          0.3   │   61.56   47.52   38.71          0.3   │   21.25   16.48   13.54
#   0.4   │   20.97    5.06    1.49          0.4   │   89.04   28.91    8.32          0.4   │   52.07   40.45   33.84          0.4   │   25.72   19.97   16.96          0.4   │   55.70   43.80   36.81          0.4   │   21.62   17.13   14.57
#   0.5   │   18.26    4.39    1.30          0.5   │   94.18   30.01    8.62          0.5   │   47.28   37.21   31.80          0.5   │   27.50   21.66   18.87          0.5   │   50.13   39.99   34.35          0.5   │   22.99   18.52   16.16
#   0.6   │   13.55    3.69    1.12          0.6   │   94.02   36.16   10.64          0.6   │   41.78   34.23   29.78          0.6   │   33.96   28.22   25.08          0.6   │   44.37   36.54   31.96          0.6   │   28.72   24.08   21.43
#   0.7   │   10.50    2.95    0.96          0.7   │   93.66   38.38   12.14          0.7   │   37.24   31.23   27.64          0.7   │   39.63   33.93   30.77          0.7   │   39.31   33.05   29.40          0.7   │   33.56   28.85   26.18
#   0.8   │    8.57    2.41    0.82          0.8   │   93.57   38.31   12.73          0.8   │   33.27   28.31   25.41          0.8   │   42.58   37.15   34.26          0.8   │   34.77   29.66   26.76          0.8   │   35.93   31.47   29.03
#   0.9   │    7.07    1.98    0.70          0.9   │   93.51   38.00   13.15          0.9   │   29.45   25.34   23.02          0.9   │   44.56   39.38   36.86          0.9   │   30.39   26.20   23.91          0.9   │   37.34   33.14   30.98
#   1.0   │    5.87    1.65    0.60          1.0   │   93.36   37.70   13.35          1.0   │   26.06   22.64   20.77          1.0   │   46.12   41.28   39.01          1.0   │   26.50   23.04   21.23          1.0   │   38.34   34.41   32.45
# data 50 speech
# containing = [27.094136511538498, 29.765903438373375, 29.442757235805495, 28.91093259610918, 30.00644657822414, 36.156050210509896, 38.37700430191631, 38.30554664956717, 38.00422980655426, 37.69969537009046]
# reachable = [8.436870282982193, 6.872633773275805, 5.870940654873684, 5.064262578790376, 4.388112863583685, 3.6938519952911, 2.9527582462915585, 2.4081430671329223, 1.9837200857261248, 1.6485722831669638]

# for ctc (c = -0.01)
#   len   │    part      50   total          len   │    part      50   total          len   │    part      50   total          len   │    part      50   total          len   │    part      50   total          len   │    part      50   total
#   ──────┼────────────────────────          ──────┼────────────────────────          ──────┼────────────────────────          ──────┼────────────────────────          ──────┼────────────────────────          ──────┼────────────────────────
#   0.1   │   51.02   11.83    2.86          0.1   │   91.86   29.59    6.51          0.1   │   96.50   83.44   66.61          0.1   │   19.16   16.26   12.80          0.1   │   99.12   86.28   68.52          0.1   │   16.03   13.88   11.04
#   0.2   │   35.01    9.29    2.68          0.2   │   91.82   33.79    9.00          0.2   │   92.32   81.69   66.31          0.2   │   26.80   23.50   18.99          0.2   │   95.45   84.85   68.29          0.2   │   22.77   20.26   16.42
#   0.3   │   30.09    8.07    2.50          0.3   │   92.24   33.71    9.66          0.3   │   87.79   78.43   65.05          0.3   │   28.98   25.71   21.43          0.3   │   90.64   81.33   66.92          0.3   │   24.75   22.27   18.58
#   0.4   │   26.28    7.02    2.25          0.4   │   92.52   33.20    9.70          0.4   │   81.42   73.41   62.26          0.4   │   29.72   26.68   22.93          0.4   │   83.32   75.46   63.58          0.4   │   25.36   23.10   19.85
#   0.5   │   23.04    6.14    1.99          0.5   │   96.03   33.86    9.92          0.5   │   75.09   68.24   58.90          0.5   │   31.16   28.25   24.84          0.5   │   75.94   69.38   59.56          0.5   │   26.51   24.41   21.46
#   0.6   │   17.82    5.26    1.75          0.6   │   95.64   39.30   11.78          0.6   │   68.82   63.27   55.38          0.6   │   37.82   34.85   31.17          0.6   │   68.89   63.55   55.37          0.6   │   32.23   30.05   26.86
#   0.7   │   14.13    4.34    1.55          0.7   │   95.32   42.02   13.52          0.7   │   62.92   58.34   51.75          0.7   │   44.09   41.08   37.35          0.7   │   62.19   57.76   51.06          0.7   │   37.55   35.31   32.09
#   0.8   │   11.76    3.64    1.37          0.8   │   95.29   42.16   14.26          0.8   │   57.36   53.46   48.01          0.8   │   47.20   44.28   40.89          0.8   │   55.80   52.08   46.64          0.8   │   40.08   37.94   34.99
#   0.9   │    9.84    3.06    1.20          0.9   │   95.25   42.00   14.71          0.9   │   51.98   48.64   44.12          0.9   │   49.37   46.54   43.47          0.9   │   49.59   46.45   42.02          0.9   │   41.65   39.61   36.94
#   1.0   │    8.28    2.60    1.05          1.0   │   95.11   41.78   14.92          1.0   │   47.10   44.26   40.48          1.0   │   51.12   48.45   45.66          1.0   │   44.05   41.41   37.77          1.0   │   42.86   40.97   38.52
# data 50 speech
# containing = [29.58843103279663, 33.78579885203891, 33.71472324578767, 33.196901833659155, 33.85680972578247, 39.2980073893959, 42.0204130171763, 42.156089129372866, 42.00308120316497, 41.78102810192481]
# reachable = [11.83179678188592, 9.287545655198404, 8.069433404466869, 7.0231026966409305, 6.1441629491543095, 5.2570823298260505, 4.344024096980651, 3.6397014769736815, 3.0638948675004505, 2.5988589973555887]

# reachable = [(([20796, 18547, 16486, 14753, 13493, 12369, 10979, 9057, 7469, 6371], 1091794), ([15378, 14634, 13844, 13131, 12603, 12018, 11490, 10808, 10021, 9328], 123193)), 
#              (([92236, 75135, 64184, 55365, 47973, 40383, 32281, 26327, 21687, 18023], 1093249), ([57874, 56121, 53126, 49240, 45294, 41666, 38017, 34470, 30846, 27565], 121738)), 
#              (([129351, 101536, 88219, 76780, 67171, 57473, 47491, 39791, 33496, 28412], 1093249), ([101573, 99453, 95477, 89369, 83078, 77029, 71016, 65078, 59216, 53885], 121738))]


#   all                   │   cross attention      ctc   ctc (c = -0.01)          around untranscribed   │   cross attention      ctc   ctc (c = -0.01)
#   ──────────────────────┼─────────────────────────────────────────────          ───────────────────────┼─────────────────────────────────────────────
#   position              │            0.5941   0.7465            0.7702          position               │            0.5138   0.7177            0.7619
#   length                │            0.6855   0.7755            0.7612          length                 │            0.6051   0.7376            0.7555
#   position and length   │            0.4359   0.5880            0.5893          position and length    │            0.3508   0.5493            0.5802



# deletions down and nothing or replace up
# disfluencies total = 241.759

# minimum gap size = 0.1
#             │    insert    delete   replace   nothing       all      WER   disf. trans.   disf. untrans.   disf. trans. %
#   ──────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────
#   base      │     8,599    20,880     7,807   160,450   197,736   0.1886         23,458           16,660            58.47
#   partial   │   +78,489   -18,223    -3,112   +21,335   +78,489   0.3419        +15,318          -15,318            96.65
#   50        │   +15,074   -17,297      -973   +18,270   +15,074   0.1602        +14,830          -14,830            95.44
#   total     │    +1,796   -14,067      -338   +14,405    +1,796   0.1237        +12,261          -12,261            89.03

# minimum gap size = 0.2
#             │    insert    delete   replace   nothing       all      WER   disf. trans.   disf. untrans.   disf. trans. %
#   ──────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────
#   base      │     8,599    20,880     7,807   160,450   197,736   0.1886         23,458           16,660            58.47
#   partial   │   +51,007   -17,674    -2,540   +20,214   +51,007   0.2737        +15,016          -15,016            95.90
#   50        │   +11,165   -16,977      -881   +17,858   +11,165   0.1464        +14,656          -14,656            95.00
#   total     │    +1,554   -14,005      -349   +14,354    +1,554   0.1229        +12,226          -12,226            88.95

# minimum gap size = 0.3
#             │    insert    delete   replace   nothing       all      WER   disf. trans.   disf. untrans.   disf. trans. %
#   ──────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────
#   base      │     8,599    20,880     7,807   160,450   197,736   0.1886         23,458           16,660            58.47
#   partial   │   +43,044   -16,926    -2,097   +19,023   +43,044   0.2546        +14,428          -14,428            94.44
#   50        │    +9,423   -16,159      -795   +16,954    +9,423   0.1436        +13,989          -13,989            93.34
#   total     │    +1,414   -13,596      -373   +13,969    +1,414   0.1242        +11,876          -11,876            88.08

# minimum gap size = 0.4
#             │    insert    delete   replace   nothing       all      WER   disf. trans.   disf. untrans.   disf. trans. %
#   ──────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────
#   base      │     8,599    20,880     7,807   160,450   197,736   0.1886         23,458           16,660            58.47
#   partial   │   +36,642   -15,829    -1,655   +17,484   +36,642   0.2408        +13,490          -13,490            92.10
#   50        │    +8,020   -14,903      -722   +15,625    +8,020   0.1443        +12,882          -12,882            90.58
#   total     │    +1,229   -12,733      -382   +13,115    +1,229   0.1277        +11,102          -11,102            86.15

# minimum gap size = 0.5
#             │    insert    delete   replace   nothing       all      WER   disf. trans.   disf. untrans.   disf. trans. %
#   ──────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────
#   base      │     8,599    20,880     7,807   160,450   197,736   0.1886         23,458           16,660            58.47
#   partial   │   +31,251   -14,562    -1,320   +15,882   +31,251   0.2299        +12,399          -12,399            89.38
#   50        │    +6,866   -13,554      -633   +14,187    +6,866   0.1465        +11,690          -11,690            87.61
#   total     │    +1,076   -11,718      -381   +12,099    +1,076   0.1321        +10,173          -10,173            83.83

# minimum gap size = 0.6
#             │    insert    delete   replace   nothing       all      WER   disf. trans.   disf. untrans.   disf. trans. %
#   ──────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────
#   base      │     8,599    20,880     7,807   160,450   197,736   0.1886         23,458           16,660            58.47
#   partial   │   +26,589   -13,318    -1,119   +14,437   +26,589   0.2204        +11,324          -11,324            86.70
#   50        │    +5,863   -12,333      -556   +12,889    +5,863   0.1486        +10,606          -10,606            84.91
#   total     │      +952   -10,744      -373   +11,117      +952   0.1365         +9,303           -9,303            81.66

# minimum gap size = 0.7
#             │    insert    delete   replace   nothing       all      WER   disf. trans.   disf. untrans.   disf. trans. %
#   ──────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────
#   base      │     8,599    20,880     7,807   160,450   197,736   0.1886         23,458           16,660            58.47
#   partial   │   +22,399   -12,123      -925   +13,048   +22,399   0.2119        +10,296          -10,296            84.14
#   50        │    +4,979   -11,137      -491   +11,628    +4,979   0.1511         +9,547           -9,547            82.27
#   total     │      +829    -9,808      -319   +10,127      +829   0.1410         +8,445           -8,445            79.52

# minimum gap size = 0.8
#             │    insert    delete   replace   nothing       all      WER   disf. trans.   disf. untrans.   disf. trans. %
#   ──────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────
#   base      │     8,599    20,880     7,807   160,450   197,736   0.1886         23,458           16,660            58.47
#   partial   │   +18,893   -10,971      -815   +11,786   +18,893   0.2049         +9,288           -9,288            81.62
#   50        │    +4,242   -10,051      -443   +10,494    +4,242   0.1537         +8,597           -8,597            79.90
#   total     │      +731    -8,928      -309    +9,237      +731   0.1450         +7,665           -7,665            77.58

# minimum gap size = 0.9
#             │    insert   delete   replace   nothing       all      WER   disf. trans.   disf. untrans.   disf. trans. %
#   ──────────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────
#   base      │     8,599   20,880     7,807   160,450   197,736   0.1886         23,458           16,660            58.47
#   partial   │   +15,875   -9,905      -746   +10,651   +15,875   0.1990         +8,338           -8,338            79.26
#   50        │    +3,600   -9,095      -368    +9,463    +3,600   0.1561         +7,723           -7,723            77.72
#   total     │      +635   -8,125      -270    +8,395      +635   0.1488         +6,926           -6,926            75.74

# minimum gap size = 1.0
#             │    insert   delete   replace   nothing       all      WER   disf. trans.   disf. untrans.   disf. trans. %
#   ──────────┼───────────────────────────────────────────────────────────────────────────────────────────────────────────
#   base      │     8,599   20,880     7,807   160,450   197,736   0.1886         23,458           16,660            58.47
#   partial   │   +13,469   -8,910      -667    +9,577   +13,469   0.1950         +7,469           -7,469            77.09
#   50        │    +3,031   -8,185      -300    +8,485    +3,031   0.1586         +6,904           -6,904            75.68
#   total     │      +555   -7,356      -243    +7,599      +555   0.1525         +6,238           -6,238            74.02


# # # after gap classification # # #
# TP, FP, TN, FN = 17846 8607 12787 1740
# classificatin model metrics
#   metric      │    score
#   ────────────┼─────────
#   accuracy    │   0.7475
#   precision   │   0.6746  <-- recall is low, therefore a lot of empty gaps are prediction
#   recall      │   0.9112
#   f score     │   0.7750


############ Zhaolin Start ############

# number of words (split in transcribed and untranscribed) that         all gaps labelled as "empty" and the types          same but this time all the gaps that were
# were predicted / not predicted by the classification model or         of words that they contain                          labeled as "contains speech"
# were not in a gap to begin with                                       
#                   │   transcribed   not transcribed       sum          not predicted   │   no untrans.   untrans.          predicted   │   no untrans.   untrans.
#   ────────────────┼──────────────────────────────────────────          ────────────────┼─────────────────────────          ────────────┼─────────────────────────
#   predicted       │        13,202            15,478    28,680          no trans,       │        12,787        696          no trans.   │         8,607      5,967
#   not predicted   │         1,079             1,450     2,529          trans.          │         1,000         44          trans.      │         7,467      4,412
#   not in gap      │       153,975             3,952   157,927
#   sum             │       168,256            20,880

#   Number of gaps in test split        number of words in test split   disfluencies that were transcribed (or not transcribed) and labeled (or not labelled) by the prediction model 
#   gaps            │   amount          words     │    amount           hesitations    │   not transcribed   transcribed
#   ────────────────┼─────────          ──────────┼──────────           ───────────────┼────────────────────────────────
#   total           │   40,980          total     │   189,136           not labelled   │             2,651        17,014
#   predicted       │   26,453          in gaps   │    31,209           labelled       │            14,009         6,444

############ Zhaolin End ############


# # #  after retranscription   # # #

#   whisper       │   empty      new   not new          wav2vec2      │    empty     new   not new          libriSpeech LM   │    empty     new   not new          Switchboard LM   │    empty     new   not new          sb-hesitation LM   │    empty     new   not new
#   ──────────────┼───────────────────────────          ──────────────┼───────────────────────────          ─────────────────┼───────────────────────────          ─────────────────┼───────────────────────────          ───────────────────┼───────────────────────────
#   empty         │       0   18,733    10,988          empty         │        0   4,744     9,263          empty            │        0   1,748     8,827          empty            │        0   6,688     9,621          empty              │        0   6,908     9,636
#   transcribed   │     427    4,634   163,196          transcribed   │      334   1,773   166,150          transcribed      │      488     834   166,935          transcribed      │      613   2,191   165,453          transcribed        │      623   2,231   165,403
#   not trans.    │   8,357    9,851     2,672          not trans.    │   11,583   7,854     1,443          not trans.       │   15,576   4,210     1,094          not trans.       │   12,151   6,947     1,782          not trans.         │   12,054   7,009     1,817

# initially untranscribed: 20,880


#   whisper   │    insert    delete   replace   nothing       all      WER   disf. trans.   disf. untrans.   disf. trans. %
#   ──────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────
#   base      │     8,599    20,880     7,808   160,449   197,736   0.1886         23,458           16,660           0.5847
#   0.1       │   +15,216   -12,323    +8,511    +3,812   +15,216   0.2286        +10,606          -10,606           0.8491
#   0.2       │   +15,216   -12,323    +8,511    +3,812   +15,216   0.2286        +10,606          -10,606           0.8491
#   0.3       │   +12,274   -11,600    +8,058    +3,542   +12,274   0.2191        +10,010          -10,010           0.8342
#   0.4       │   +10,336   -10,616    +7,437    +3,179   +10,336   0.2136         +9,150           -9,150           0.8128
#   0.5       │    +8,793    -9,613    +6,794    +2,819    +8,793   0.2095         +8,275           -8,275           0.7910
#   0.6       │    +6,538    -8,660    +6,167    +2,493    +6,538   0.2023         +7,435           -7,435           0.7701
#   0.7       │    +4,415    -7,715    +5,516    +2,199    +4,415   0.1954         +6,609           -6,609           0.7495
#   0.8       │    +3,279    -6,846    +4,938    +1,908    +3,279   0.1923         +5,830           -5,830           0.7300
#   0.9       │    +2,514    -6,046    +4,417    +1,629    +2,514   0.1906         +5,104           -5,104           0.7119
#   1.0       │    +1,984    -5,299    +3,922    +1,377    +1,984   0.1897         +4,439           -4,439           0.6954

#   wav2vec2   │    insert    delete   replace   nothing       all      WER   disf. trans.   disf. untrans.   disf. trans. %
#   ───────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────
#   base       │     8,599    20,880     7,808   160,449   197,736   0.1886         23,458           16,660           0.5847
#   0.1        │   +15,409   -12,130   +11,553      +577   +15,409   0.2445         +8,511           -8,511           0.7969
#   0.2        │   +15,409   -12,130   +11,553      +577   +15,409   0.2445         +8,511           -8,511           0.7969
#   0.3        │   +12,470   -11,404   +10,846      +558   +12,470   0.2341         +8,375           -8,375           0.7935
#   0.4        │   +10,552   -10,400    +9,897      +503   +10,552   0.2273         +7,876           -7,876           0.7810
#   0.5        │    +9,038    -9,368    +8,944      +424    +9,038   0.2220         +7,229           -7,229           0.7649
#   0.6        │    +6,751    -8,447    +8,089      +358    +6,751   0.2136         +6,596           -6,596           0.7491
#   0.7        │    +4,600    -7,530    +7,216      +314    +4,600   0.2055         +5,956           -5,956           0.7332
#   0.8        │    +3,428    -6,697    +6,425      +272    +3,428   0.2010         +5,338           -5,338           0.7178
#   0.9        │    +2,635    -5,925    +5,710      +215    +2,635   0.1982         +4,712           -4,712           0.7022
#   1.0        │    +2,083    -5,200    +5,037      +163    +2,083   0.1962         +4,128           -4,128           0.6876

#   libriSpeech LM   │    insert    delete   replace   nothing       all      WER   disf. trans.   disf. untrans.   disf. trans. %
#   ─────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────
#   base             │     8,599    20,880     7,808   160,449   197,736   0.1886         23,458           16,660           0.5847
#   0.1              │   +15,412   -12,127   +11,813      +314   +15,412   0.2458         +6,169           -6,169           0.7385
#   0.2              │   +15,412   -12,127   +11,813      +314   +15,412   0.2458         +6,169           -6,169           0.7385
#   0.3              │   +12,475   -11,399   +11,089      +310   +12,475   0.2352         +6,166           -6,166           0.7384
#   0.4              │   +10,564   -10,388   +10,091      +297   +10,564   0.2283         +6,003           -6,003           0.7344
#   0.5              │    +9,047    -9,359    +9,095      +264    +9,047   0.2228         +5,646           -5,646           0.7255
#   0.6              │    +6,762    -8,436    +8,199      +237    +6,762   0.2142         +5,230           -5,230           0.7151
#   0.7              │    +4,607    -7,523    +7,305      +218    +4,607   0.2060         +4,788           -4,788           0.7041
#   0.8              │    +3,434    -6,691    +6,500      +191    +3,434   0.2015         +4,362           -4,362           0.6935
#   0.9              │    +2,639    -5,921    +5,777      +144    +2,639   0.1985         +3,946           -3,946           0.6831
#   1.0              │    +2,086    -5,197    +5,081      +116    +2,086   0.1965         +3,522           -3,522           0.6725

#   Switchboard LM   │    insert    delete   replace   nothing       all      WER   disf. trans.   disf. untrans.   disf. trans. %
#   ─────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────
#   base             │     8,599    20,880     7,808   160,449   197,736   0.1886         23,458           16,660           0.5847
#   0.1              │   +15,383   -12,156   +10,973    +1,183   +15,383   0.2416         +9,629           -9,629           0.8247
#   0.2              │   +15,383   -12,156   +10,973    +1,183   +15,383   0.2416         +9,629           -9,629           0.8247
#   0.3              │   +12,452   -11,422   +10,338    +1,084   +12,452   0.2315         +9,145           -9,145           0.8127
#   0.4              │   +10,541   -10,411    +9,458      +953   +10,541   0.2251         +8,348           -8,348           0.7928
#   0.5              │    +9,027    -9,379    +8,549      +830    +9,027   0.2200         +7,514           -7,514           0.7720
#   0.6              │    +6,743    -8,455    +7,700      +755    +6,743   0.2116         +6,771           -6,771           0.7535
#   0.7              │    +4,589    -7,541    +6,864      +677    +4,589   0.2036         +6,068           -6,068           0.7360
#   0.8              │    +3,419    -6,706    +6,122      +584    +3,419   0.1995         +5,388           -5,388           0.7190
#   0.9              │    +2,627    -5,933    +5,437      +496    +2,627   0.1967         +4,735           -4,735           0.7028
#   1.0              │    +2,075    -5,208    +4,802      +406    +2,075   0.1950         +4,146           -4,146           0.6881

#   SB-hesitation LM   │    insert    delete   replace   nothing       all      WER   disf. trans.   disf. untrans.   disf. trans. %
#   ───────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────
#   base               │     8,599    20,880     7,808   160,449   197,736   0.1886         23,458           16,660           0.5847
#   0.1                │   +15,384   -12,155   +10,898    +1,257   +15,384   0.2412         +9,712           -9,712           0.8268
#   0.2                │   +15,384   -12,155   +10,898    +1,257   +15,384   0.2412         +9,712           -9,712           0.8268
#   0.3                │   +12,452   -11,422   +10,264    +1,158   +12,452   0.2311         +9,205           -9,205           0.8142
#   0.4                │   +10,541   -10,411    +9,387    +1,024   +10,541   0.2247         +8,391           -8,391           0.7939
#   0.5                │    +9,024    -9,382    +8,486      +896    +9,024   0.2197         +7,552           -7,552           0.7730
#   0.6                │    +6,739    -8,459    +7,646      +813    +6,739   0.2113         +6,800           -6,800           0.7542
#   0.7                │    +4,585    -7,545    +6,818      +727    +4,585   0.2034         +6,094           -6,094           0.7366
#   0.8                │    +3,416    -6,709    +6,080      +629    +3,416   0.1992         +5,405           -5,405           0.7195
#   0.9                │    +2,625    -5,935    +5,395      +540    +2,625   0.1965         +4,752           -4,752           0.7032
#   1.0                │    +2,073    -5,210    +4,768      +442    +2,073   0.1948         +4,160           -4,160           0.6884


# wer_data_base = [8599, 20880, 7807, 160450]
# disf_data_base = [23458, 16660]
# wer_data = [[[22000, 9139, 15962, 164036], [16184, 9468, 15755, 163914], [14195, 10129, 15322, 163686], [13025, 11139, 14670, 163328], [12237, 12149, 14026, 162962], [11421, 13006, 13473, 162658], [10438, 13888, 12866, 162383], [9843, 14710, 12322, 162105], [9506, 15467, 11838, 161832], [9279, 16168, 11372, 161597]], 
#             [[22106, 9245, 18886, 161006], [16257, 9541, 18589, 161007], [14262, 10196, 17950, 160991], [13087, 11201, 16998, 160938], [12303, 12215, 16054, 160868], [11486, 13071, 15261, 160805], [10481, 13931, 14454, 160752], [9879, 14746, 13684, 160707], [9532, 15493, 12987, 160657], [9303, 16192, 12336, 160609]], 
#             [[22108, 9247, 18462, 161428], [16256, 9540, 18167, 161430], [14261, 10195, 17547, 161395], [13085, 11199, 16643, 161295], [12299, 12211, 15761, 161165], [11486, 13071, 15013, 161053], [10482, 13932, 14242, 160963], [9879, 14746, 13504, 160887], [9534, 15495, 12832, 160810], [9303, 16192, 12226, 160719]], 
#             [[22082, 9221, 18293, 161623], [16227, 9511, 18036, 161590], [14236, 10170, 17479, 161488], [13073, 11187, 16603, 161347], [12293, 12205, 15705, 161227], [11484, 13069, 14910, 161158], [10480, 13930, 14133, 161074], [9876, 14743, 13412, 160982], [9528, 15489, 12749, 160899], [9296, 16185, 12140, 160812]], 
#             [[22076, 9215, 18223, 161699], [16221, 9505, 17969, 161663], [14232, 10166, 17410, 161561], [13070, 11184, 16541, 161412], [12287, 12199, 15646, 161292], [11478, 13063, 14860, 161214], [10476, 13926, 14095, 161116], [9872, 14739, 13379, 161019], [9527, 15488, 12715, 160934], [9295, 16184, 12109, 160844]]]
# disf_data = [[[33733, 6385], [33531, 6587], [32977, 7141], [32095, 8023], [31194, 8924], [30424, 9694], [29628, 10490], [28891, 11227], [28205, 11913], [27581, 12537]], 
#                 [[31833, 8285], [31952, 8166], [31790, 8328], [31256, 8862], [30580, 9538], [29940, 10178], [29287, 10831], [28664, 11454], [28030, 12088], [27453, 12665]], 
#                 [[31497, 8621], [31598, 8520], [31478, 8640], [31008, 9110], [30381, 9737], [29771, 10347], [29142, 10976], [28547, 11571], [27935, 12183], [27373, 12745]], 
#                 [[32893, 7225], [32909, 7209], [32458, 7660], [31639, 8479], [30784, 9334], [30053, 10065], [29339, 10779], [28669, 11449], [28022, 12096], [27442, 12676]], 
#                 [[32998, 7120], [32997, 7121], [32516, 7602], [31679, 8439], [30818, 9300], [30081, 10037], [29360, 10758], [28682, 11436], [28035, 12083], [27453, 12665]]]

    


# # #         general          # # #



#   whisper   │    insert    delete   replace   nothing       all      WER   disf. trans.   disf. untrans.   disf. trans. %
#   ──────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────
#   base      │     8,599    20,880     7,808   160,449   197,736   0.1886         23,458           16,660           0.5847
#   0.2       │   +15,216   -12,323    +8,511    +3,812   +15,216   0.2286        +10,606          -10,606           0.8491
#   0.3       │   +12,274   -11,600    +8,058    +3,542   +12,274   0.2191        +10,010          -10,010           0.8342
#   0.4       │   +10,336   -10,616    +7,437    +3,179   +10,336   0.2136         +9,150           -9,150           0.8128
#   1.0       │    +1,984    -5,299    +3,922    +1,377    +1,984   0.1897         +4,439           -4,439           0.6954

#   wav2vec2   │    insert    delete   replace   nothing       all      WER   disf. trans.   disf. untrans.   disf. trans. %
#   ───────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────
#   base       │     8,599    20,880     7,808   160,449   197,736   0.1886         23,458           16,660           0.5847
#   0.2        │   +15,409   -12,130   +11,553      +577   +15,409   0.2445         +8,511           -8,511           0.7969
#   0.3        │   +12,470   -11,404   +10,846      +558   +12,470   0.2341         +8,375           -8,375           0.7935
#   0.4        │   +10,552   -10,400    +9,897      +503   +10,552   0.2273         +7,876           -7,876           0.7810
#   1.0        │    +2,083    -5,200    +5,037      +163    +2,083   0.1962         +4,128           -4,128           0.6876

#   libriSpeech LM   │    insert    delete   replace   nothing       all      WER   disf. trans.   disf. untrans.   disf. trans. %
#   ─────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────
#   base             │     8,599    20,880     7,808   160,449   197,736   0.1886         23,458           16,660           0.5847
#   0.2              │   +15,412   -12,127   +11,813      +314   +15,412   0.2458         +6,169           -6,169           0.7385
#   0.3              │   +12,475   -11,399   +11,089      +310   +12,475   0.2352         +6,166           -6,166           0.7384
#   0.4              │   +10,564   -10,388   +10,091      +297   +10,564   0.2283         +6,003           -6,003           0.7344
#   1.0              │    +2,086    -5,197    +5,081      +116    +2,086   0.1965         +3,522           -3,522           0.6725

#   Switchboard LM   │    insert    delete   replace   nothing       all      WER   disf. trans.   disf. untrans.   disf. trans. %
#   ─────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────
#   base             │     8,599    20,880     7,808   160,449   197,736   0.1886         23,458           16,660           0.5847
#   0.2              │   +15,383   -12,156   +10,973    +1,183   +15,383   0.2416         +9,629           -9,629           0.8247
#   0.3              │   +12,452   -11,422   +10,338    +1,084   +12,452   0.2315         +9,145           -9,145           0.8127
#   0.4              │   +10,541   -10,411    +9,458      +953   +10,541   0.2251         +8,348           -8,348           0.7928
#   1.0              │    +2,075    -5,208    +4,802      +406    +2,075   0.1950         +4,146           -4,146           0.6881

#   SB-hesitation LM   │    insert    delete   replace   nothing       all      WER   disf. trans.   disf. untrans.   disf. trans. %
#   ───────────────────┼────────────────────────────────────────────────────────────────────────────────────────────────────────────
#   base               │     8,599    20,880     7,808   160,449   197,736   0.1886         23,458           16,660           0.5847
#   0.2                │   +15,384   -12,155   +10,898    +1,257   +15,384   0.2412         +9,712           -9,712           0.8268
#   0.3                │   +12,452   -11,422   +10,264    +1,158   +12,452   0.2311         +9,205           -9,205           0.8142
#   0.4                │   +10,541   -10,411    +9,387    +1,024   +10,541   0.2247         +8,391           -8,391           0.7939
#   1.0                │    +2,073    -5,210    +4,768      +442    +2,073   0.1948         +4,160           -4,160           0.6884


